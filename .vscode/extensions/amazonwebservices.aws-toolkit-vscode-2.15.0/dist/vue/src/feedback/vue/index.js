(()=>{"use strict";var P={"../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/feedback/vue/submitFeedback.vue?vue&type=script&lang=ts":(n,s,t)=>{t.r(s),t.d(s,{default:()=>r});var e=t("vue"),c=t.n(e),i=t("./src/webviews/client.ts"),d=t("./src/webviews/mixins/saveData.ts");const o=i.WebviewClientFactory.create(),r=(0,e.defineComponent)({data(){return{comment:"",sentiment:"",isSubmitting:!1,error:"",feedbackName:""}},created(){this.getName()},methods:{async submitFeedback(){this.error="",this.isSubmitting=!0,console.log("Submitting feedback...");const a=await o.submit({comment:this.feedbackName==="CodeWhisperer"?"CodeWhisperer onboarding: "+this.comment:this.comment,sentiment:this.sentiment});this.error=a??"",this.isSubmitting=!1},async getName(){const a=await o.getFeedbackName();typeof a=="string"&&(this.feedbackName=a)}},mixins:[d.default]})},"../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/feedback/vue/submitFeedback.vue?vue&type=template&id=6c240632&ts=true":(n,s,t)=>{t.r(s),t.d(s,{render:()=>D});var e=t("vue"),c=t.n(e);const i={class:"container button-container",style:{"justify-content":"space-between"}},d={key:0,id:"error",style:{"margin-right":"10px"}},o={key:0,type:"submit",value:"Submitting...",disabled:""},r=["disabled"],a=(0,e.createElementVNode)("h3",{id:"sentiment-heading"},"How was your experience?",-1),v=(0,e.createElementVNode)("label",{for:"positive-sentiment"},null,-1),_=(0,e.createElementVNode)("label",{for:"negative-sentiment"},null,-1),b=(0,e.createElementVNode)("h3",{id:"feedback-heading"},"Feedback",-1),h={style:{"margin-bottom":"10px"}},g=(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("em",null,[(0,e.createTextVNode)("Feedback is "),(0,e.createElementVNode)("b",null,"anonymous"),(0,e.createTextVNode)(". If you need a reply, "),(0,e.createElementVNode)("a",{href:"https://github.com/aws/aws-toolkit-vscode/issues/new/choose"},"contact us on GitHub"),(0,e.createTextVNode)(".")])],-1),E=(0,e.createElementVNode)("br",null,null,-1),y=(0,e.createElementVNode)("em",null," Don't add personally identifiable information (PII), confidential or sensitive information in your feedback. Please remove any PII when sharing file paths, error messages, etc. ",-1);function D(l,m,N,k,M,L){return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createElementVNode)("div",i,[(0,e.createElementVNode)("h1",null,"Feedback for "+(0,e.toDisplayString)(l.feedbackName),1),l.error!==""?((0,e.openBlock)(),(0,e.createElementBlock)("div",d,[(0,e.createElementVNode)("strong",null,(0,e.toDisplayString)(l.error),1)])):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",null,[l.isSubmitting?((0,e.openBlock)(),(0,e.createElementBlock)("input",o)):((0,e.openBlock)(),(0,e.createElementBlock)("input",{key:1,type:"submit",onClick:m[0]||(m[0]=(...f)=>l.submitFeedback&&l.submitFeedback(...f)),disabled:l.comment.length>2e3,value:"Send"},null,8,r))])]),a,(0,e.createElementVNode)("div",null,[(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"positive-sentiment",type:"radio",value:"Positive","onUpdate:modelValue":m[1]||(m[1]=f=>l.sentiment=f)},null,512),[[e.vModelRadio,l.sentiment]]),v,(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"negative-sentiment",type:"radio",value:"Negative","onUpdate:modelValue":m[2]||(m[2]=f=>l.sentiment=f)},null,512),[[e.vModelRadio,l.sentiment]]),_]),b,(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",h,[g,E,(0,e.createElementVNode)("div",null,[y,(0,e.createElementVNode)("div",{style:{float:"right","font-size":"smaller"},id:"remaining",class:(0,e.normalizeClass)(l.comment.length>2e3?"exceeds-max-length":"")},(0,e.toDisplayString)(2e3-l.comment.length)+" characters remaining ",3)])])]),(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%","margin-bottom":"10px"},rows:"10",cols:"90","onUpdate:modelValue":m[3]||(m[3]=f=>l.comment=f)},null,512),[[e.vModelText,l.comment]])])])}},"./src/webviews/client.ts":(n,s,t)=>{t.r(s),t.d(s,{WebviewClientFactory:()=>e});class e{static registerGlobalCommands(){const i=new Event("remount");window.addEventListener("message",d=>{const{command:o}=d.data;o==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(r=>this.removeListener(r)),window.dispatchEvent(i))})}static addListener(i){this.messageListeners.add(i),window.addEventListener("message",i)}static removeListener(i){this.messageListeners.delete(i),window.removeEventListener("message",i)}static sendRequest(i,d,o){const r=JSON.parse(JSON.stringify(o)),a=new Promise((v,_)=>{const b=g=>{const E=g.data;if(i===E.id)if(this.removeListener(b),window.clearTimeout(h),E.error===!0){const y=JSON.parse(E.data);_(new Error(y.message))}else E.event?(typeof o[0]!="function"&&_(new Error(`Expected frontend event handler to be a function: ${d}`)),v(this.registerEventHandler(d,o[0]))):v(E.data)},h=setTimeout(()=>{this.removeListener(b),_(new Error(`Timed out while waiting for response: id: ${i}, command: ${d}`))},3e5);this.addListener(b)});return vscode.postMessage({id:i,command:d,data:r}),a}static registerEventHandler(i,d){const o=r=>{const a=r.data;if(a.command===i){if(!a.event)throw new Error(`Expected backend handler to be an event emitter: ${i}`);d(a.data)}};return this.addListener(o),{dispose:()=>this.removeListener(o)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(i,d)=>{if(typeof d!="string"){console.warn(`Tried to index webview client with non-string property: ${String(d)}`);return}if(d==="init"){const r=vscode.getState()??{};if(r.__once)return()=>Promise.resolve();vscode.setState(Object.assign(r,{__once:!0}))}const o=(this.counter++).toString();return(...r)=>this.sendRequest(o,d,r)}})}}e.counter=0,e.initialized=!1,e.messageListeners=new Set},"./src/webviews/mixins/saveData.ts":(n,s,t)=>{t.r(s),t.d(s,{default:()=>i});const e=new Set;window.addEventListener("remount",()=>e.clear());const i={created(){if(this.$data===void 0)return;const d=vscode.getState()??{};this.$options._count=(this.$options._count??0)+1;const o=this.id??`${this.name??`DEFAULT-${e.size}`}-${this.$options._count}`;if(this.$options._unid=o,e.has(o)){console.warn(`Component "${o}" already exists. State-saving functionality will be disabled.`);return}e.add(o);const r=d[o]??{};Object.keys(this.$data).forEach(a=>{this.$data[a]=r[a]??this.$data[a]}),Object.keys(this.$data).forEach(a=>{this.$watch(a,v=>{const _=vscode.getState()??{},b=Object.assign(_[o]??{},{[a]:v!==void 0?JSON.parse(JSON.stringify(v)):void 0});vscode.setState(Object.assign(_,{[o]:b}))},{deep:!0})})}}},"../../node_modules/vue-loader/dist/exportHelper.js":(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=(t,e)=>{const c=t.__vccOpts||t;for(const[i,d]of e)c[i]=d;return c}},"./src/feedback/vue/submitFeedback.vue":(n,s,t)=>{t.r(s),t.d(s,{default:()=>o});var e=t("./src/feedback/vue/submitFeedback.vue?vue&type=template&id=6c240632&ts=true"),c=t("./src/feedback/vue/submitFeedback.vue?vue&type=script&lang=ts"),i=t("../../node_modules/vue-loader/dist/exportHelper.js");const o=(0,i.default)(c.default,[["render",e.render],["__file","src/feedback/vue/submitFeedback.vue"]])},"./src/feedback/vue/submitFeedback.vue?vue&type=script&lang=ts":(n,s,t)=>{t.r(s),t.d(s,{default:()=>e.default});var e=t("../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/feedback/vue/submitFeedback.vue?vue&type=script&lang=ts")},"./src/feedback/vue/submitFeedback.vue?vue&type=template&id=6c240632&ts=true":(n,s,t)=>{t.r(s),t.d(s,{render:()=>e.render});var e=t("../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/feedback/vue/submitFeedback.vue?vue&type=template&id=6c240632&ts=true")},vue:n=>{n.exports=Vue}},w={};function u(n){var s=w[n];if(s!==void 0)return s.exports;var t=w[n]={exports:{}};return P[n](t,t.exports,u),t.exports}u.n=n=>{var s=n&&n.__esModule?()=>n.default:()=>n;return u.d(s,{a:s}),s},u.d=(n,s)=>{for(var t in s)u.o(s,t)&&!u.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:s[t]})},u.o=(n,s)=>Object.prototype.hasOwnProperty.call(n,s),u.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var p={};(()=>{u.r(p);var n=u("vue"),s=u.n(n),t=u("./src/feedback/vue/submitFeedback.vue");const e=()=>(0,n.createApp)(t.default),c=e();c.mount("#vue-app"),window.addEventListener("remount",()=>{c.unmount(),e().mount("#vue-app")})})();var O=this;for(var S in p)O[S]=p[S];p.__esModule&&Object.defineProperty(O,"__esModule",{value:!0})})();
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
/*!***********************************!*\
  !*** ./src/feedback/vue/index.ts ***!
  \***********************************/

//# sourceMappingURL=index.js.map