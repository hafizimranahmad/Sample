(()=>{"use strict";var M={"../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/apigateway/vue/invokeApi.vue?vue&type=script&lang=ts":(i,s,t)=>{t.r(s),t.d(s,{default:()=>u});var e=t("vue"),v=t.n(e),o=t("./src/webviews/client.ts"),d=t("./src/webviews/mixins/saveData.ts");const n=o.WebviewClientFactory.create(),l={ApiName:"",ApiId:"",ApiArn:"",Resources:{},Region:"",localizedMessages:{noApiResource:"noApiResource",noMethod:"noMethod"}},u=(0,e.defineComponent)({mixins:[d.default],data:()=>({initialData:l,selectedApiResource:"",selectedMethod:"",methods:[],jsonInput:"",queryString:"",errors:[],isLoading:!1}),async created(){this.initialData=await n.init()??this.initialData},methods:{setApiResource:async function(){const p=await n.listValidMethods(this.initialData.Resources[this.selectedApiResource]);this.methods=p,this.selectedMethod=p[0]},sendInput:function(){this.errors=[],this.selectedApiResource||this.errors.push(this.initialData.localizedMessages.noApiResource),this.selectedMethod||this.errors.push(this.initialData.localizedMessages.noMethod),!(this.errors.length>0)&&(this.isLoading=!0,n.invokeApi({body:this.jsonInput,api:this.initialData.ApiId,selectedApiResource:this.initialData.Resources[this.selectedApiResource],selectedMethod:this.selectedMethod,queryString:this.queryString,region:this.initialData.Region}).finally(()=>this.isLoading=!1))}},computed:{invokeText(){return this.isLoading?"Invoking...":"Invoke"}}})},"../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/apigateway/vue/invokeApi.vue?vue&type=template&id=7015f3ad&ts=true":(i,s,t)=>{t.r(s),t.d(s,{render:()=>B});var e=t("vue"),v=t.n(e);const o={id:"app"},d={class:"container button-container",style:{"justify-content":"space-between"}},n={key:0},l=(0,e.createElementVNode)("b",null,"Validation error(s):",-1),u=["disabled"],p=(0,e.createElementVNode)("h3",null,"Select a resource:",-1),m=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a resource",-1),h=["disabled","value"],f=(0,e.createElementVNode)("h3",null,"Select a method:",-1),y=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a method",-1),E=["value"],A={key:1},O=[(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a resource first",-1)],L=(0,e.createElementVNode)("br",null,null,-1),R=(0,e.createElementVNode)("h3",null,"Query string (optional)",-1),b=(0,e.createElementVNode)("br",null,null,-1),P=(0,e.createElementVNode)("br",null,null,-1);function B(r,c,j,T,C,N){return(0,e.openBlock)(),(0,e.createElementBlock)("div",o,[(0,e.createElementVNode)("div",d,[(0,e.createElementVNode)("h1",null,"API: "+(0,e.toDisplayString)(r.initialData.ApiName)+" ("+(0,e.toDisplayString)(r.initialData.ApiId)+")",1),r.errors.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",n,[l,(0,e.createElementVNode)("ul",null,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.errors,a=>((0,e.openBlock)(),(0,e.createElementBlock)("li",{key:a},(0,e.toDisplayString)(a),1))),128))])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("button",{class:"",onClick:c[0]||(c[0]=(...a)=>r.sendInput&&r.sendInput(...a)),disabled:r.isLoading},(0,e.toDisplayString)(r.invokeText),9,u)])]),(0,e.createElementVNode)("pre",null,(0,e.toDisplayString)(r.initialData.ApiArn),1),p,(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":c[1]||(c[1]=a=>r.selectedApiResource=a),onChange:c[2]||(c[2]=(...a)=>r.setApiResource&&r.setApiResource(...a))},[m,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.initialData.Resources,a=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:a.id,disabled:!a.resourceMethods,value:a.id},(0,e.toDisplayString)(`${a.path}${a.resourceMethods===void 0?" -- No methods":""}`),9,h))),128))],544),[[e.vModelSelect,r.selectedApiResource]]),f,r.selectedApiResource?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("select",{key:0,"onUpdate:modelValue":c[3]||(c[3]=a=>r.selectedMethod=a)},[y,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.methods,a=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:a,value:a},(0,e.toDisplayString)(a),9,E))),128))],512)),[[e.vModelSelect,r.selectedMethod]]):((0,e.openBlock)(),(0,e.createElementBlock)("select",A,O)),L,R,(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"text","onUpdate:modelValue":c[4]||(c[4]=a=>r.queryString=a)},null,512),[[e.vModelText,r.queryString]]),b,P,(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%","margin-bottom":"10px"},rows:"10",cols:"90","onUpdate:modelValue":c[5]||(c[5]=a=>r.jsonInput=a)},null,512),[[e.vModelText,r.jsonInput]])])}},"./src/webviews/client.ts":(i,s,t)=>{t.r(s),t.d(s,{WebviewClientFactory:()=>e});class e{static registerGlobalCommands(){const o=new Event("remount");window.addEventListener("message",d=>{const{command:n}=d.data;n==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(l=>this.removeListener(l)),window.dispatchEvent(o))})}static addListener(o){this.messageListeners.add(o),window.addEventListener("message",o)}static removeListener(o){this.messageListeners.delete(o),window.removeEventListener("message",o)}static sendRequest(o,d,n){const l=JSON.parse(JSON.stringify(n)),u=new Promise((p,m)=>{const h=y=>{const E=y.data;if(o===E.id)if(this.removeListener(h),window.clearTimeout(f),E.error===!0){const A=JSON.parse(E.data);m(new Error(A.message))}else E.event?(typeof n[0]!="function"&&m(new Error(`Expected frontend event handler to be a function: ${d}`)),p(this.registerEventHandler(d,n[0]))):p(E.data)},f=setTimeout(()=>{this.removeListener(h),m(new Error(`Timed out while waiting for response: id: ${o}, command: ${d}`))},3e5);this.addListener(h)});return vscode.postMessage({id:o,command:d,data:l}),u}static registerEventHandler(o,d){const n=l=>{const u=l.data;if(u.command===o){if(!u.event)throw new Error(`Expected backend handler to be an event emitter: ${o}`);d(u.data)}};return this.addListener(n),{dispose:()=>this.removeListener(n)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(o,d)=>{if(typeof d!="string"){console.warn(`Tried to index webview client with non-string property: ${String(d)}`);return}if(d==="init"){const l=vscode.getState()??{};if(l.__once)return()=>Promise.resolve();vscode.setState(Object.assign(l,{__once:!0}))}const n=(this.counter++).toString();return(...l)=>this.sendRequest(n,d,l)}})}}e.counter=0,e.initialized=!1,e.messageListeners=new Set},"./src/webviews/mixins/saveData.ts":(i,s,t)=>{t.r(s),t.d(s,{default:()=>o});const e=new Set;window.addEventListener("remount",()=>e.clear());const o={created(){if(this.$data===void 0)return;const d=vscode.getState()??{};this.$options._count=(this.$options._count??0)+1;const n=this.id??`${this.name??`DEFAULT-${e.size}`}-${this.$options._count}`;if(this.$options._unid=n,e.has(n)){console.warn(`Component "${n}" already exists. State-saving functionality will be disabled.`);return}e.add(n);const l=d[n]??{};Object.keys(this.$data).forEach(u=>{this.$data[u]=l[u]??this.$data[u]}),Object.keys(this.$data).forEach(u=>{this.$watch(u,p=>{const m=vscode.getState()??{},h=Object.assign(m[n]??{},{[u]:p!==void 0?JSON.parse(JSON.stringify(p)):void 0});vscode.setState(Object.assign(m,{[n]:h}))},{deep:!0})})}}},"../../node_modules/vue-loader/dist/exportHelper.js":(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=(t,e)=>{const v=t.__vccOpts||t;for(const[o,d]of e)v[o]=d;return v}},"./src/apigateway/vue/invokeApi.vue":(i,s,t)=>{t.r(s),t.d(s,{default:()=>n});var e=t("./src/apigateway/vue/invokeApi.vue?vue&type=template&id=7015f3ad&ts=true"),v=t("./src/apigateway/vue/invokeApi.vue?vue&type=script&lang=ts"),o=t("../../node_modules/vue-loader/dist/exportHelper.js");const n=(0,o.default)(v.default,[["render",e.render],["__file","src/apigateway/vue/invokeApi.vue"]])},"./src/apigateway/vue/invokeApi.vue?vue&type=script&lang=ts":(i,s,t)=>{t.r(s),t.d(s,{default:()=>e.default});var e=t("../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/apigateway/vue/invokeApi.vue?vue&type=script&lang=ts")},"./src/apigateway/vue/invokeApi.vue?vue&type=template&id=7015f3ad&ts=true":(i,s,t)=>{t.r(s),t.d(s,{render:()=>e.render});var e=t("../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/apigateway/vue/invokeApi.vue?vue&type=template&id=7015f3ad&ts=true")},vue:i=>{i.exports=Vue}},D={};function _(i){var s=D[i];if(s!==void 0)return s.exports;var t=D[i]={exports:{}};return M[i](t,t.exports,_),t.exports}_.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return _.d(s,{a:s}),s},_.d=(i,s)=>{for(var t in s)_.o(s,t)&&!_.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:s[t]})},_.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),_.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var g={};(()=>{_.r(g);var i=_("vue"),s=_.n(i),t=_("./src/apigateway/vue/invokeApi.vue");const e=()=>(0,i.createApp)(t.default),v=e();v.mount("#vue-app"),window.addEventListener("remount",()=>{v.unmount(),e().mount("#vue-app")})})();var w=this;for(var S in g)w[S]=g[S];g.__esModule&&Object.defineProperty(w,"__esModule",{value:!0})})();
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
/*!*************************************!*\
  !*** ./src/apigateway/vue/index.ts ***!
  \*************************************/

//# sourceMappingURL=index.js.map