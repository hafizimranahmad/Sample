(()=>{"use strict";var P={"../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/eventSchemas/vue/searchSchemas.vue?vue&type=script&lang=ts":(n,s,t)=>{t.r(s),t.d(s,{default:()=>c});var e=t("vue"),v=t.n(e),o=t("./src/webviews/client.ts"),r=t("./src/webviews/mixins/saveData.ts");const a=o.WebviewClientFactory.create();let l;const c=(0,e.defineComponent)({data(){return{initialData:{Header:"",SearchInputPlaceholder:"",VersionPrefix:"",RegistryNames:[],Region:"",LocalizedMessages:{noSchemasFound:"",searching:"",loading:"",select:""}},searchText:"",searchProgressInfo:"",searchResults:[],selectedSchema:{},selectedVersion:"",schemaContent:"",schemaVersions:[],downloadDisabled:!0}},watch:{searchText:function(u,m){window.clearTimeout(l),l=window.setTimeout(()=>this.userSearchedText(),250)}},async created(){this.initialData=await a.init()??this.initialData},methods:{async userSearchedText(){if(this.resetSearchResults(),this.resetSchemaContentAndVersionDropdown(),this.downloadDisabled=!0,this.searchText===""){this.searchProgressInfo=this.initialData.LocalizedMessages.noSchemasFound;return}this.searchProgressInfo=this.initialData.LocalizedMessages.searching;const u=await a.searchSchemas(this.searchText);if(u.resultsNotFound){this.searchProgressInfo=this.initialData.LocalizedMessages.noSchemasFound;return}this.searchProgressInfo=this.initialData.LocalizedMessages.select,this.searchResults=u.results},userSelectedSchema:function(){this.resetSchemaContentAndVersionDropdown(),this.downloadDisabled=!1,this.fetchSchemaContent()},downloadClicked:function(){a.downloadCodeBindings(this.selectedSchema)},async fetchSchemaContent(){this.schemaContent=this.initialData.LocalizedMessages.loading;const u=await a.fetchSchemaContent(this.selectedSchema,this.selectedVersion);this.schemaContent=u.results,this.selectedVersion=u.version,this.schemaVersions=u.versionList??this.schemaVersions},resetSearchResults:function(){this.selectedSchema={},this.searchResults=[],this.searchProgressInfo=""},resetSchemaContentAndVersionDropdown:function(){this.selectedVersion="",this.schemaContent="",this.schemaVersions=[]}},mixins:[r.default]})},"../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/eventSchemas/vue/searchSchemas.vue?vue&type=template&id=e75b55ba&ts=true":(n,s,t)=>{t.r(s),t.d(s,{render:()=>p});var e=t("vue"),v=t.n(e);const o={id:"app"},r={class:"container button-container",style:{"justify-content":"space-between"}},a=["disabled"],l={id:"search_input"},c=["placeholder"],u={id:"result_content"},m={disabled:"",value:""},S=["value"],f={id:"schemaContent_versionDropdown"},g=["value"];function p(i,h,b,L,O,C){return(0,e.openBlock)(),(0,e.createElementBlock)("div",o,[(0,e.createElementVNode)("div",r,[(0,e.createElementVNode)("h1",null,(0,e.toDisplayString)(i.initialData.Header),1),(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("input",{type:"submit",disabled:i.downloadDisabled,onClick:h[0]||(h[0]=(...d)=>i.downloadClicked&&i.downloadClicked(...d)),value:"Download Code Bindings"},null,8,a)])]),(0,e.createElementVNode)("div",l,[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"search","onUpdate:modelValue":h[1]||(h[1]=d=>i.searchText=d),placeholder:i.initialData.SearchInputPlaceholder},null,8,c),[[e.vModelText,i.searchText]])]),(0,e.createElementVNode)("div",u,[(0,e.withDirectives)((0,e.createElementVNode)("select",{id:"searchList","onUpdate:modelValue":h[2]||(h[2]=d=>i.selectedSchema=d),onChange:h[3]||(h[3]=(...d)=>i.userSelectedSchema&&i.userSelectedSchema(...d)),size:"100"},[(0,e.createElementVNode)("option",m,(0,e.toDisplayString)(i.searchProgressInfo),1),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(i.searchResults,d=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:d.RegistryName,value:d},(0,e.toDisplayString)(d.Title),9,S))),128))],544),[[e.vModelSelect,i.selectedSchema]]),(0,e.createElementVNode)("div",f,[(0,e.withDirectives)((0,e.createElementVNode)("select",{id:"versionList","onUpdate:modelValue":h[4]||(h[4]=d=>i.selectedVersion=d),onChange:h[5]||(h[5]=(...d)=>i.fetchSchemaContent&&i.fetchSchemaContent(...d))},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(i.schemaVersions,d=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:d,value:d},(0,e.toDisplayString)(i.initialData.VersionPrefix)+" "+(0,e.toDisplayString)(d),9,g))),128))],544),[[e.vModelSelect,i.selectedVersion]]),(0,e.withDirectives)((0,e.createElementVNode)("textarea",{readonly:"","onUpdate:modelValue":h[6]||(h[6]=d=>i.schemaContent=d)},null,512),[[e.vModelText,i.schemaContent]])])])])}},"./src/webviews/client.ts":(n,s,t)=>{t.r(s),t.d(s,{WebviewClientFactory:()=>e});class e{static registerGlobalCommands(){const o=new Event("remount");window.addEventListener("message",r=>{const{command:a}=r.data;a==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(l=>this.removeListener(l)),window.dispatchEvent(o))})}static addListener(o){this.messageListeners.add(o),window.addEventListener("message",o)}static removeListener(o){this.messageListeners.delete(o),window.removeEventListener("message",o)}static sendRequest(o,r,a){const l=JSON.parse(JSON.stringify(a)),c=new Promise((u,m)=>{const S=g=>{const p=g.data;if(o===p.id)if(this.removeListener(S),window.clearTimeout(f),p.error===!0){const i=JSON.parse(p.data);m(new Error(i.message))}else p.event?(typeof a[0]!="function"&&m(new Error(`Expected frontend event handler to be a function: ${r}`)),u(this.registerEventHandler(r,a[0]))):u(p.data)},f=setTimeout(()=>{this.removeListener(S),m(new Error(`Timed out while waiting for response: id: ${o}, command: ${r}`))},3e5);this.addListener(S)});return vscode.postMessage({id:o,command:r,data:l}),c}static registerEventHandler(o,r){const a=l=>{const c=l.data;if(c.command===o){if(!c.event)throw new Error(`Expected backend handler to be an event emitter: ${o}`);r(c.data)}};return this.addListener(a),{dispose:()=>this.removeListener(a)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(o,r)=>{if(typeof r!="string"){console.warn(`Tried to index webview client with non-string property: ${String(r)}`);return}if(r==="init"){const l=vscode.getState()??{};if(l.__once)return()=>Promise.resolve();vscode.setState(Object.assign(l,{__once:!0}))}const a=(this.counter++).toString();return(...l)=>this.sendRequest(a,r,l)}})}}e.counter=0,e.initialized=!1,e.messageListeners=new Set},"./src/webviews/mixins/saveData.ts":(n,s,t)=>{t.r(s),t.d(s,{default:()=>o});const e=new Set;window.addEventListener("remount",()=>e.clear());const o={created(){if(this.$data===void 0)return;const r=vscode.getState()??{};this.$options._count=(this.$options._count??0)+1;const a=this.id??`${this.name??`DEFAULT-${e.size}`}-${this.$options._count}`;if(this.$options._unid=a,e.has(a)){console.warn(`Component "${a}" already exists. State-saving functionality will be disabled.`);return}e.add(a);const l=r[a]??{};Object.keys(this.$data).forEach(c=>{this.$data[c]=l[c]??this.$data[c]}),Object.keys(this.$data).forEach(c=>{this.$watch(c,u=>{const m=vscode.getState()??{},S=Object.assign(m[a]??{},{[c]:u!==void 0?JSON.parse(JSON.stringify(u)):void 0});vscode.setState(Object.assign(m,{[a]:S}))},{deep:!0})})}}},"../../node_modules/vue-loader/dist/exportHelper.js":(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=(t,e)=>{const v=t.__vccOpts||t;for(const[o,r]of e)v[o]=r;return v}},"./src/eventSchemas/vue/searchSchemas.vue":(n,s,t)=>{t.r(s),t.d(s,{default:()=>a});var e=t("./src/eventSchemas/vue/searchSchemas.vue?vue&type=template&id=e75b55ba&ts=true"),v=t("./src/eventSchemas/vue/searchSchemas.vue?vue&type=script&lang=ts"),o=t("../../node_modules/vue-loader/dist/exportHelper.js");const a=(0,o.default)(v.default,[["render",e.render],["__file","src/eventSchemas/vue/searchSchemas.vue"]])},"./src/eventSchemas/vue/searchSchemas.vue?vue&type=script&lang=ts":(n,s,t)=>{t.r(s),t.d(s,{default:()=>e.default});var e=t("../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/eventSchemas/vue/searchSchemas.vue?vue&type=script&lang=ts")},"./src/eventSchemas/vue/searchSchemas.vue?vue&type=template&id=e75b55ba&ts=true":(n,s,t)=>{t.r(s),t.d(s,{render:()=>e.render});var e=t("../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/eventSchemas/vue/searchSchemas.vue?vue&type=template&id=e75b55ba&ts=true")},vue:n=>{n.exports=Vue}},w={};function _(n){var s=w[n];if(s!==void 0)return s.exports;var t=w[n]={exports:{}};return P[n](t,t.exports,_),t.exports}_.n=n=>{var s=n&&n.__esModule?()=>n.default:()=>n;return _.d(s,{a:s}),s},_.d=(n,s)=>{for(var t in s)_.o(s,t)&&!_.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:s[t]})},_.o=(n,s)=>Object.prototype.hasOwnProperty.call(n,s),_.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var E={};(()=>{_.r(E);var n=_("vue"),s=_.n(n),t=_("./src/eventSchemas/vue/searchSchemas.vue");const e=()=>(0,n.createApp)(t.default),v=e();v.mount("#vue-app"),window.addEventListener("remount",()=>{v.unmount(),e().mount("#vue-app")})})();var D=this;for(var y in E)D[y]=E[y];E.__esModule&&Object.defineProperty(D,"__esModule",{value:!0})})();
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
/*!***************************************!*\
  !*** ./src/eventSchemas/vue/index.ts ***!
  \***************************************/

//# sourceMappingURL=index.js.map