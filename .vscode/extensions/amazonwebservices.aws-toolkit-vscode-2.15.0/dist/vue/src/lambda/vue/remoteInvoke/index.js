(()=>{"use strict";var b={"../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/lambda/vue/remoteInvoke/remoteInvoke.vue?vue&type=script&lang=ts":(s,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t("vue"),m=t.n(e),a=t("./src/webviews/client.ts"),r=t("./src/webviews/mixins/saveData.ts");const o=a.WebviewClientFactory.create(),d={FunctionName:"",FunctionArn:"",FunctionRegion:"",InputSamples:[]},l=(0,e.defineComponent)({async created(){this.initialData=await o.init()??this.initialData},data(){return{initialData:{...d},selectedSampleRequest:"",sampleText:"",selectedFile:""}},methods:{async newSelection(){const u=await o.getSample(this.selectedSampleRequest);this.sampleText=u},async promptForFileLocation(){const u=await o.promptFile();u&&(this.sampleText=u.sample,this.selectedFile=u.selectedFile)},sendInput(){o.invokeLambda(this.sampleText)}},mixins:[r.default]})},"../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/lambda/vue/remoteInvoke/remoteInvoke.vue?vue&type=template&id=7c18ad92&ts=true":(s,n,t)=>{t.r(n),t.d(n,{render:()=>f});var e=t("vue"),m=t.n(e);const a={class:"container button-container",style:{"justify-content":"space-between"}},r={style:{"margin-bottom":"5px","margin-top":"10px","margin-right":"5px"}},o={style:{"margin-top":"0"}},d=(0,e.createElementVNode)("h3",null,"Select a file to use as payload:",-1),l=(0,e.createElementVNode)("br",null,null,-1),u=(0,e.createElementVNode)("h3",null,"Or, use a sample request payload from a template:",-1),p=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select an example input",-1),E=["value"],h=(0,e.createElementVNode)("br",null,null,-1),S=(0,e.createElementVNode)("br",null,null,-1);function f(i,c,O,I,L,P){return(0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,null,[(0,e.createElementVNode)("div",a,[(0,e.createElementVNode)("h1",null,"Function "+(0,e.toDisplayString)(i.initialData.FunctionName),1),(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("button",{onClick:c[0]||(c[0]=(..._)=>i.sendInput&&i.sendInput(..._))},"Invoke")])]),(0,e.createElementVNode)("p",r,"ARN: "+(0,e.toDisplayString)(i.initialData.FunctionArn),1),(0,e.createElementVNode)("p",o,"Region: "+(0,e.toDisplayString)(i.initialData.FunctionRegion),1),d,(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("button",{onClick:c[1]||(c[1]=(..._)=>i.promptForFileLocation&&i.promptForFileLocation(..._))},"Choose File"),(0,e.createTextVNode)(" \xA0 "+(0,e.toDisplayString)(i.selectedFile),1)]),l,u,(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":c[2]||(c[2]=_=>i.selectedSampleRequest=_),onChange:c[3]||(c[3]=(..._)=>i.newSelection&&i.newSelection(..._))},[p,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(i.initialData.InputSamples,_=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:_.name,value:_.filename},(0,e.toDisplayString)(_.name),9,E))),128))],544),[[e.vModelSelect,i.selectedSampleRequest]]),h,S,(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%","margin-bottom":"10px"},rows:"10",cols:"90","onUpdate:modelValue":c[4]||(c[4]=_=>i.sampleText=_)},null,512),[[e.vModelText,i.sampleText]])],64)}},"./src/webviews/client.ts":(s,n,t)=>{t.r(n),t.d(n,{WebviewClientFactory:()=>e});class e{static registerGlobalCommands(){const a=new Event("remount");window.addEventListener("message",r=>{const{command:o}=r.data;o==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(d=>this.removeListener(d)),window.dispatchEvent(a))})}static addListener(a){this.messageListeners.add(a),window.addEventListener("message",a)}static removeListener(a){this.messageListeners.delete(a),window.removeEventListener("message",a)}static sendRequest(a,r,o){const d=JSON.parse(JSON.stringify(o)),l=new Promise((u,p)=>{const E=S=>{const f=S.data;if(a===f.id)if(this.removeListener(E),window.clearTimeout(h),f.error===!0){const i=JSON.parse(f.data);p(new Error(i.message))}else f.event?(typeof o[0]!="function"&&p(new Error(`Expected frontend event handler to be a function: ${r}`)),u(this.registerEventHandler(r,o[0]))):u(f.data)},h=setTimeout(()=>{this.removeListener(E),p(new Error(`Timed out while waiting for response: id: ${a}, command: ${r}`))},3e5);this.addListener(E)});return vscode.postMessage({id:a,command:r,data:d}),l}static registerEventHandler(a,r){const o=d=>{const l=d.data;if(l.command===a){if(!l.event)throw new Error(`Expected backend handler to be an event emitter: ${a}`);r(l.data)}};return this.addListener(o),{dispose:()=>this.removeListener(o)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(a,r)=>{if(typeof r!="string"){console.warn(`Tried to index webview client with non-string property: ${String(r)}`);return}if(r==="init"){const d=vscode.getState()??{};if(d.__once)return()=>Promise.resolve();vscode.setState(Object.assign(d,{__once:!0}))}const o=(this.counter++).toString();return(...d)=>this.sendRequest(o,r,d)}})}}e.counter=0,e.initialized=!1,e.messageListeners=new Set},"./src/webviews/mixins/saveData.ts":(s,n,t)=>{t.r(n),t.d(n,{default:()=>a});const e=new Set;window.addEventListener("remount",()=>e.clear());const a={created(){if(this.$data===void 0)return;const r=vscode.getState()??{};this.$options._count=(this.$options._count??0)+1;const o=this.id??`${this.name??`DEFAULT-${e.size}`}-${this.$options._count}`;if(this.$options._unid=o,e.has(o)){console.warn(`Component "${o}" already exists. State-saving functionality will be disabled.`);return}e.add(o);const d=r[o]??{};Object.keys(this.$data).forEach(l=>{this.$data[l]=d[l]??this.$data[l]}),Object.keys(this.$data).forEach(l=>{this.$watch(l,u=>{const p=vscode.getState()??{},E=Object.assign(p[o]??{},{[l]:u!==void 0?JSON.parse(JSON.stringify(u)):void 0});vscode.setState(Object.assign(p,{[o]:E}))},{deep:!0})})}}},"../../node_modules/vue-loader/dist/exportHelper.js":(s,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=(t,e)=>{const m=t.__vccOpts||t;for(const[a,r]of e)m[a]=r;return m}},"./src/lambda/vue/remoteInvoke/remoteInvoke.vue":(s,n,t)=>{t.r(n),t.d(n,{default:()=>o});var e=t("./src/lambda/vue/remoteInvoke/remoteInvoke.vue?vue&type=template&id=7c18ad92&ts=true"),m=t("./src/lambda/vue/remoteInvoke/remoteInvoke.vue?vue&type=script&lang=ts"),a=t("../../node_modules/vue-loader/dist/exportHelper.js");const o=(0,a.default)(m.default,[["render",e.render],["__file","src/lambda/vue/remoteInvoke/remoteInvoke.vue"]])},"./src/lambda/vue/remoteInvoke/remoteInvoke.vue?vue&type=script&lang=ts":(s,n,t)=>{t.r(n),t.d(n,{default:()=>e.default});var e=t("../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/lambda/vue/remoteInvoke/remoteInvoke.vue?vue&type=script&lang=ts")},"./src/lambda/vue/remoteInvoke/remoteInvoke.vue?vue&type=template&id=7c18ad92&ts=true":(s,n,t)=>{t.r(n),t.d(n,{render:()=>e.render});var e=t("../../node_modules/esbuild-loader/dist/index.js??clonedRuleSet-1.use[0]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[10].use[0]!./src/lambda/vue/remoteInvoke/remoteInvoke.vue?vue&type=template&id=7c18ad92&ts=true")},vue:s=>{s.exports=Vue}},w={};function v(s){var n=w[s];if(n!==void 0)return n.exports;var t=w[s]={exports:{}};return b[s](t,t.exports,v),t.exports}v.n=s=>{var n=s&&s.__esModule?()=>s.default:()=>s;return v.d(n,{a:n}),n},v.d=(s,n)=>{for(var t in n)v.o(n,t)&&!v.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:n[t]})},v.o=(s,n)=>Object.prototype.hasOwnProperty.call(s,n),v.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var g={};(()=>{v.r(g);var s=v("vue"),n=v.n(s),t=v("./src/lambda/vue/remoteInvoke/remoteInvoke.vue");const e=()=>(0,s.createApp)(t.default),m=e();m.mount("#vue-app"),window.addEventListener("remount",()=>{m.unmount(),e().mount("#vue-app")})})();var y=this;for(var D in g)y[D]=g[D];g.__esModule&&Object.defineProperty(y,"__esModule",{value:!0})})();
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
/*!**********************************************!*\
  !*** ./src/lambda/vue/remoteInvoke/index.ts ***!
  \**********************************************/

//# sourceMappingURL=index.js.map